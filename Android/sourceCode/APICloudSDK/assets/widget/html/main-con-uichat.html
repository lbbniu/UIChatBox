<!DOCTYPE html>
<html lang='zh-CN'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0'/>
        <title>聊天盒子</title>

		<style type='text/css'>
		  .diy-btn-group-test {margin : 10px 0px 0px 0px;}
		</style>
		
    </head>
    <body>
    </body>
    <script type='text/javascript' src='../script/api.js'></script>
    <script type='text/javascript'>

		function openView(){
			var obj = api.require('UIChatBox');
			obj.open({
				placeholder: '哈哈哈',
			    maxRows: 1,
			    autoFocus:true,
			    emotionPath: 'widget://image/emotion',
			    texts: {
			        recordBtn: {
			            normalTitle: 'press',
			            activeTitle: 'hhHH'
			        },
			        sendBtn:{
			         	title: 'press',
			        }
			    },
			    styles: {
			        inputBar: {
			            borderColor: '#d9d9d9',
			            bgColor: '#f2f2f2'
			        },
			        inputBox: {
			            borderColor: '#B3B3B3',
			            bgColor: '#00FF00'
			        },
			        emotionBtn: {                          //JSON对象；表情按钮样式
			            normalImg: 'widget://res/2.png',         //字符串类型；表情按钮常态的背景图片（本地路径，fs://，widget://）；默认：笑脸小图标
			            activeImg: 'widget://res/1.png'          //字符串类型；表情按钮按下时的背景图片（本地路径，fs://，widget://）
        			},
				       keyboardBtn: {                      //JSON对象；键盘按钮样式
				            normalImg: 'widget://res/bg_01.png',         //字符串类型；键盘按钮常态的背景图片（本地路径，fs://，widget://）；默认：键盘小图标
				            activeImg: 'widget://res/hu.png'          //字符串类型；键盘按钮按下时的背景图片（本地路径，fs://，widget://）
				       },

				      speechBtn: {                         //（可选项）JSON对象；输入框左侧按钮样式，不传则不显示左边的语音按钮
				            
				            normalImg: 'widget://res/1.png',         //字符串类型；左侧按钮常态的背景图片（本地路径，fs://，widget://）
				            activeImg: 'widget://res/2.png'          //字符串类型；左侧按钮按下时的背景图片（本地路径，fs://，widget://）
				      },
			        recordBtn: {
			            normalBg: '#c4c4c4',
			            activeBg: '#999999',
			            color: '#000',
			            size: 14
			        },
			        indicator: {
			            target: 'both',
			            color: '#c4c4c4',
			            activeColor: '#9e9e9e'
			        }
			    },
			    extras: {
			        titleSize: 10,
			        titleColor: '#a3a3a3',
			        btns : [{
						title : '照片',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '拍照',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '小视频',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '位置',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '收藏',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '个人名片',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '语音输入',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '红包',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '视频聊天',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}]
			        
			    }
			}, function(ret){
				//popupKeyboard();
				//addLis();
				//addLisChange();
				alert(JSON.stringify(ret));
				//addLisPress();
				
				setTimeout("closeKeyboard()",3000);
			});
		}
		
	function addLis(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'inputBar',
		    name: 'move'
		}, function(ret,err){
		    alert("keyboard"+JSON.stringify(ret));
		});
	}
	
	function addLisChange(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'inputBar',
		    name: 'change'
		}, function(ret,err){
		    alert("edit"+JSON.stringify(ret));
		});
	}
	
	function insertMsg(){
		var obj = api.require('UIChatBox');
		obj.insertValue({
		    index: 10,
		    msg: '这里是插入的字符串[微笑]哈哈'
		});
	}
	
	function addLisPress(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'recordBtn',
		    name: 'press'
		}, function(ret,err){
		    alert("press");
		});
	}
	
	function addLisPressCancel(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'recordBtn',
		    name: 'press_cancel'
		}, function(ret,err){
		    alert("press_cancel");
		});
	}
	
	function addLisMoveOut(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'recordBtn',
		    name: 'move_out'
		}, function(ret,err){
		    alert("move_out");
		});
	}
	
	function addLisMoveOutCancel(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'recordBtn',
		    name: 'move_out_cancel'
		}, function(ret,err){
		   alert("move_out_cancel");
		});
	}
	
	function addLisMoveIn(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'recordBtn',
		    name: 'move_in'
		}, function(ret,err){
		    alert("move_in");
		});
	}
	
	function addLisShowRecord(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'inputBar',
		    name: 'showRecord'
		}, function(ret,err){
		    alert("showRecord");
		});
	}
	
	function addLisShowEmotion(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'inputBar',
		    name: 'showEmotion'
		}, function(ret,err){
		   alert("showEmotion");
		});
	}
	
	function addLisShowExtras(){
		var obj = api.require('UIChatBox');
		obj.addEventListener({
		    target: 'inputBar',
		    name: 'showExtras'
		}, function(ret,err){
		    alert("showExtras");
		});
	}
	
	function popupKeyboard(){
		var obj = api.require('UIChatBox');
		obj.popupKeyboard({
		});
	}
	
	function closeKeyboard(){
		var obj = api.require('UIChatBox');
		obj.closeKeyboard({
		});
	}
	
	function valueNull(){
		var obj = api.require('UIChatBox');
		obj.value({
		}, function(ret,err){
		    alert(JSON.stringify(ret));
		});
	}
	
	function valueHH(){
		var obj = api.require('UIChatBox');
		obj.value({
		 	msg: '这里是插入的字符串 [微笑] 哈哈'
		}, function(ret,err){
		    alert(JSON.stringify(ret));
		});
	}
	
	function valueSpace(){
		var obj = api.require('UIChatBox');
		obj.value({
		 	msg: ''
		}, function(ret,err){
		    alert(JSON.stringify(ret));
		});
	}
	
	function closeChat(){
		var obj = api.require('UIChatBox');
		obj.close();
	}
	
	function reloadExtraBoard(){
		var obj = api.require('UIChatBox');
		obj.reloadExtraBoard({
			extras: {
			        titleSize: 5,
			        titleColor: '#00FF00',
			        btns : [{
						title : '照片+',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '拍照+',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '小视频+',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '位置+',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}, {
						title : '收藏+',
						normalImg : 'widget://image/chatBox_album2.png',
						activeImg : 'widget://image/chatBox_album2.png'
					}]
			    }
			    }
		);
	}

    </script>
    
   <body>
    <div id="wrap">
        <div id="main"> 
            <div  >
            	<input type="button" onclick="openView()" value="openView" />
            	<input type="button" onclick="reloadExtraBoard()" value="reloadExtraBoard" />
            	<input type="button" onclick="addLis()" value="addLis" />
            	<input type="button" onclick="addLisChange()" value="addLisChange" />
            	
            	<input type="button" onclick="addLisPress()" value="addLisPress" />
            	<input type="button" onclick="addLisPressCancel()" value="addLisPressCancel" />
            	<input type="button" onclick="addLisMoveOut()" value="addLisMoveOut" />
            	<input type="button" onclick="addLisMoveOutCancel()" value="addLisMoveOutCancel" />
            	<input type="button" onclick="addLisMoveIn()" value="addLisMoveIn" />
            	
            	<input type="button" onclick="addLisShowRecord()" value="addLisShowRecord" />
            	<input type="button" onclick="addLisShowEmotion()" value="addLisShowEmotion" />
            	<input type="button" onclick="addLisShowExtras()" value="addLisShowExtras" />
            	
            	<input type="button" onclick="insertMsg()" value="insertMsg" />
            	
            	<input type="button" onclick="popupKeyboard()" value="popupKeyboard" />
            	<input type="button" onclick="closeKeyboard()" value="closeKeyboard" />
            	
            	<input type="button" onclick="valueNull()" value="valueNull" />
            	<input type="button" onclick="valueHH()" value="valueHH" />
            	<input type="button" onclick="valueSpace()" value="valueSpace" />
            	
            	<input type="button" onclick="closeChat()" value="closeChat" />
            </div>

        </div>   
    </div>
</body>
    
</html>